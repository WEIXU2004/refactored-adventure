{"remainingRequest":"E:\\downloads\\eat-project\\web\\node_modules\\babel-loader\\lib\\index.js!E:\\downloads\\eat-project\\web\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\downloads\\eat-project\\web\\src\\utils\\request.js","dependencies":[{"path":"E:\\downloads\\eat-project\\web\\src\\utils\\request.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\babel.config.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\node_modules\\eslint-loader\\index.js","mtime":1742348614000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKaW1wb3J0IEVsZW1lbnQgZnJvbSAiZWxlbWVudC11aSI7CgovLyBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6OTk5OS8iCmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1NFUlZFUjsKY29uc3QgcmVxdWVzdCA9IGF4aW9zLmNyZWF0ZSh7CiAgdGltZW91dDogNTAwMCwKICBoZWFkZXJzOiB7fQp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInN5c3RlbVVzZXIiKSAhPT0gbnVsbCkgewogICAgY29uZmlnLmhlYWRlcnNbInRva2VuIl0gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzeXN0ZW1Vc2VyIikpLnRva2VuOwogIH0KICByZXR1cm4gY29uZmlnOwp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHsKICBsZXQgcmVzID0gcmVzcG9uc2UuZGF0YTsKICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgfSBlbHNlIHsKICAgIC8v6YeN5a6a5ZCRIHx85p2D6ZmQ5LiN6LazCiAgICBpZiAocmVzLmNvZGUgPT09IDMwMSB8fCByZXMuY29kZSA9PT0gNDAxKSB7CiAgICAgIEVsZW1lbnQuTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgLy/ot7PovazliLDnmbvlvZXpobXpnaIKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvbG9naW4iCiAgICAgIH0pOwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLm1zZyk7CiAgICB9CiAgICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IoIXJlcy5tc2cgPyAi57O757uf5byC5bi477yM6K+36IGU57O7566h55CG5ZGYIiA6IHJlcy5tc2cpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5tc2cpOwogIH0KfSwgZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKGVycm9yKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKY29uc29sZS5sb2coIueOr+WigyIsIHByb2Nlc3MuZW52Lk5PREVfRU5WKTsKY29uc29sZS5sb2coIuacjeWKoeWZqCIsIHByb2Nlc3MuZW52LlZVRV9BUFBfU0VSVkVSKTsKY29uc29sZS5sb2cocHJvY2Vzcy5lbnYpOwpleHBvcnQgZGVmYXVsdCByZXF1ZXN0Ow=="},{"version":3,"names":["axios","router","Element","defaults","baseURL","process","env","VUE_APP_SERVER","request","create","timeout","headers","interceptors","use","config","localStorage","getItem","JSON","parse","token","response","res","data","code","Message","error","msg","push","path","Promise","reject","console","log","NODE_ENV"],"sources":["E:/downloads/eat-project/web/src/utils/request.js"],"sourcesContent":["import axios from \"axios\"\r\nimport router from \"../router\"\r\nimport Element from \"element-ui\";\r\n\r\n// axios.defaults.baseURL = \"http://localhost:9999/\"\r\naxios.defaults.baseURL = process.env.VUE_APP_SERVER\r\n\r\nconst request= axios.create({\r\n    timeout: 5000,\r\n    headers:{\r\n\r\n    }\r\n})\r\n\r\nrequest.interceptors.request.use(config=>{\r\n    if (localStorage.getItem(\"systemUser\") !== null) {\r\n        config.headers[\"token\"]  = JSON.parse(localStorage.getItem(\"systemUser\")).token\r\n\r\n    }\r\n    return config\r\n})\r\n\r\nrequest.interceptors.response.use(\r\n    response =>{\r\n        let res = response.data\r\n        if(res.code === 200){\r\n            return response.data\r\n\r\n        }else{\r\n            //重定向 ||权限不足\r\n            if(res.code === 301 ||res.code === 401){\r\n                Element.Message.error(res.msg)\r\n                    //跳转到登录页面\r\n                 router.push({path:\"/login\"})\r\n                return Promise.reject(res.msg)\r\n            }\r\n            Element.Message.error(!res.msg?\"系统异常，请联系管理员\":res.msg)\r\n            return Promise.reject(res.msg)\r\n        }\r\n    },\r\n    error=>{\r\n        console.log(error)\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nconsole.log(\"环境\",process.env.NODE_ENV)\r\nconsole.log(\"服务器\",process.env.VUE_APP_SERVER)\r\nconsole.log(process.env)\r\n\r\nexport default  request\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,OAAO,MAAM,YAAY;;AAEhC;AACAF,KAAK,CAACG,QAAQ,CAACC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,cAAc;AAEnD,MAAMC,OAAO,GAAER,KAAK,CAACS,MAAM,CAAC;EACxBC,OAAO,EAAE,IAAI;EACbC,OAAO,EAAC,CAER;AACJ,CAAC,CAAC;AAEFH,OAAO,CAACI,YAAY,CAACJ,OAAO,CAACK,GAAG,CAACC,MAAM,IAAE;EACrC,IAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,KAAK,IAAI,EAAE;IAC7CF,MAAM,CAACH,OAAO,CAAC,OAAO,CAAC,GAAIM,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,CAACG,KAAK;EAEnF;EACA,OAAOL,MAAM;AACjB,CAAC,CAAC;AAEFN,OAAO,CAACI,YAAY,CAACQ,QAAQ,CAACP,GAAG,CAC7BO,QAAQ,IAAG;EACP,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACvB,IAAGD,GAAG,CAACE,IAAI,KAAK,GAAG,EAAC;IAChB,OAAOH,QAAQ,CAACE,IAAI;EAExB,CAAC,MAAI;IACD;IACA,IAAGD,GAAG,CAACE,IAAI,KAAK,GAAG,IAAGF,GAAG,CAACE,IAAI,KAAK,GAAG,EAAC;MACnCrB,OAAO,CAACsB,OAAO,CAACC,KAAK,CAACJ,GAAG,CAACK,GAAG,CAAC;MAC1B;MACHzB,MAAM,CAAC0B,IAAI,CAAC;QAACC,IAAI,EAAC;MAAQ,CAAC,CAAC;MAC7B,OAAOC,OAAO,CAACC,MAAM,CAACT,GAAG,CAACK,GAAG,CAAC;IAClC;IACAxB,OAAO,CAACsB,OAAO,CAACC,KAAK,CAAC,CAACJ,GAAG,CAACK,GAAG,GAAC,aAAa,GAACL,GAAG,CAACK,GAAG,CAAC;IACrD,OAAOG,OAAO,CAACC,MAAM,CAACT,GAAG,CAACK,GAAG,CAAC;EAClC;AACJ,CAAC,EACDD,KAAK,IAAE;EACHM,OAAO,CAACC,GAAG,CAACP,KAAK,CAAC;EAClB,OAAOI,OAAO,CAACC,MAAM,CAACL,KAAK,CAAC;AAChC,CACJ,CAAC;AAEDM,OAAO,CAACC,GAAG,CAAC,IAAI,EAAC3B,OAAO,CAACC,GAAG,CAAC2B,QAAQ,CAAC;AACtCF,OAAO,CAACC,GAAG,CAAC,KAAK,EAAC3B,OAAO,CAACC,GAAG,CAACC,cAAc,CAAC;AAC7CwB,OAAO,CAACC,GAAG,CAAC3B,OAAO,CAACC,GAAG,CAAC;AAExB,eAAgBE,OAAO","ignoreList":[]}]}