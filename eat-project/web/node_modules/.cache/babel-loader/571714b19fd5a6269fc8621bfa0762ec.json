{"remainingRequest":"E:\\downloads\\eat-project\\web\\node_modules\\babel-loader\\lib\\index.js!E:\\downloads\\eat-project\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\downloads\\eat-project\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\downloads\\eat-project\\web\\src\\components\\CustomEditor.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\downloads\\eat-project\\web\\src\\components\\CustomEditor.vue","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\babel.config.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742348614000},{"path":"E:\\downloads\\eat-project\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1742348614000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRWRpdG9yLCBUb29sYmFyIH0gZnJvbSAiQHdhbmdlZGl0b3IvZWRpdG9yLWZvci12dWUiOwppbXBvcnQgdXRpbHMgZnJvbSAiQC91dGlscy91dGlscyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY29udGVudDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICBuYW1lOiAiTXlFZGl0b3IiLAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvciwKICAgIFRvb2xiYXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0b3I6IG51bGwsCiAgICAgIGh0bWw6IHRoaXMuY29udGVudCwKICAgICAgdG9vbGJhckNvbmZpZzogewogICAgICAgIC8vIHRvb2xiYXJLZXlzOiBbIC8qIOaYvuekuuWTquS6m+iPnOWNle+8jOWmguS9leaOkuW6j+OAgeWIhue7hCAqLyBdLAogICAgICAgIC8vIGV4Y2x1ZGVLZXlzOiBbIC8qIOmakOiXj+WTquS6m+iPnOWNlSAqLyBdLAogICAgICB9LAogICAgICBlZGl0b3JDb25maWc6IHsKICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWGheWuuS4uLiIsCiAgICAgICAgLy8gYXV0b0ZvY3VzOiBmYWxzZSwKICAgICAgICBNRU5VX0NPTkY6IHsKICAgICAgICAgIHVwbG9hZEltYWdlOiB7CiAgICAgICAgICAgIHNlcnZlcjogdGhpcy4kaHR0cFVwbG9hZEZpbGUgKyAiIiwKICAgICAgICAgICAgLy/kuIrkvKDmjqXlj6PlnLDlnYAKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIHRva2VuOiB1dGlscy5nZXRUb2tlbigpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZpZWxkTmFtZTogJ2ZpbGUnLAogICAgICAgICAgICAvL+S4iuS8oOaWh+S7tuWQjQogICAgICAgICAgICBjdXN0b21JbnNlcnQocmVzLCBpbnNlcnRGbikgewogICAgICAgICAgICAgIGluc2VydEZuKHJlcy5kYXRhLnVybCwgcmVzLmRhdGEuYWx0LCByZXMuZGF0YS51cmwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgdXBsb2FkVmlkZW86IHsKICAgICAgICAgICAgLy8g5Y2V5Liq5paH5Lu255qE5pyA5aSn5L2T56ev6ZmQ5Yi277yM6buY6K6k5Li6IDEwTQogICAgICAgICAgICBtYXhGaWxlU2l6ZTogMTAwICogMTAyNCAqIDEwMjQsCiAgICAgICAgICAgIC8vIDEwTQogICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuJGh0dHBVcGxvYWRGaWxlICsgIiIsCiAgICAgICAgICAgIC8v5LiK5Lyg5o6l5Y+j5Zyw5Z2ACiAgICAgICAgICAgIC8vIHNlcnZlcjogcHJvY2Vzcy5lbnYuVlVFX0FQUF9TRVJWRVIrIi93YW5nZWRpdG9yVXBsb2FkcyIsLy/kuIrkvKDmjqXlj6PlnLDlnYAKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIHRva2VuOiB1dGlscy5nZXRUb2tlbigpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZpZWxkTmFtZTogJ2ZpbGUnLAogICAgICAgICAgICAvL+S4iuS8oOaWh+S7tuWQjQogICAgICAgICAgICBjdXN0b21JbnNlcnQocmVzLCBpbnNlcnRGbikgewogICAgICAgICAgICAgIGluc2VydEZuKHJlcy5kYXRhLnVybCwgcmVzLmRhdGEuYWx0LCByZXMuZGF0YS51cmwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgLy/nm5HlkKzmlbDlgLwKICB3YXRjaDogewogICAgY29udGVudChuZXdWYWx1ZSkgewogICAgICBjb25zb2xlLmxvZygibmV3VmFsdWU6Iik7CiAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbHVlKTsKICAgICAgdGhpcy5odG1sID0gbmV3VmFsdWU7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgb25DcmVhdGVkKGVkaXRvcikgewogICAgICB0aGlzLmVkaXRvciA9IE9iamVjdC5zZWFsKGVkaXRvcik7CiAgICB9LAogICAgb25DaGFuZ2UoZWRpdG9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCJvbkNoYW5nZSIsIGVkaXRvci5nZXRIdG1sKCkpOwogICAgICB0aGlzLiRlbWl0KCJjb250ZW50LWNoYW5nZSIsIGVkaXRvci5nZXRIdG1sKCkpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHt9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgIGlmIChlZGl0b3IgPT0gbnVsbCkgcmV0dXJuOwogICAgZWRpdG9yLmRlc3Ryb3koKTsKICB9Cn07"},{"version":3,"names":["Editor","Toolbar","utils","props","content","type","String","default","name","components","data","editor","html","toolbarConfig","editorConfig","placeholder","MENU_CONF","uploadImage","server","$httpUploadFile","headers","token","getToken","fieldName","customInsert","res","insertFn","url","alt","uploadVideo","maxFileSize","watch","newValue","console","log","created","methods","onCreated","Object","seal","onChange","getHtml","$emit","mounted","beforeDestroy","destroy"],"sources":["src/components/CustomEditor.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"nav\" style=\"border: 1px solid #ccc; margin-top: 10px;color: #000\">\r\n      <!-- 工具栏 -->\r\n      <Toolbar\r\n          style=\"border-bottom: 1px solid #ccc\"\r\n          :editor=\"editor\"\r\n          :defaultConfig=\"toolbarConfig\"\r\n      />\r\n      <!-- 编辑器 -->\r\n      <Editor\r\n          style=\"height: 400px; overflow-y: hidden\"\r\n          :defaultConfig=\"editorConfig\"\r\n          v-model=\"html\"\r\n          @onChange=\"onChange\"\r\n          @onCreated=\"onCreated\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {Editor, Toolbar} from \"@wangeditor/editor-for-vue\";\r\nimport utils from \"@/utils/utils\";\r\n\r\nexport default {\r\n  props: {\r\n    content: {\r\n      type: String,\r\n      default: \"\",\r\n    }\r\n  },\r\n  name: \"MyEditor\",\r\n  components: {Editor, Toolbar},\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      html: this.content,\r\n      toolbarConfig: {\r\n        // toolbarKeys: [ /* 显示哪些菜单，如何排序、分组 */ ],\r\n        // excludeKeys: [ /* 隐藏哪些菜单 */ ],\r\n      },\r\n      editorConfig: {\r\n        placeholder: \"请输入内容...\",\r\n        // autoFocus: false,\r\n        MENU_CONF: {\r\n          uploadImage: {\r\n            server: this.$httpUploadFile + \"\",//上传接口地址\r\n            headers: {\r\n              token: utils.getToken()\r\n            },\r\n            fieldName: 'file',//上传文件名\r\n            customInsert(res, insertFn) {\r\n              insertFn(res.data.url, res.data.alt, res.data.url)\r\n            },\r\n          },\r\n          uploadVideo: {\r\n            // 单个文件的最大体积限制，默认为 10M\r\n            maxFileSize: 100 * 1024 * 1024, // 10M\r\n            server: this.$httpUploadFile + \"\",//上传接口地址\r\n            // server: process.env.VUE_APP_SERVER+\"/wangeditorUploads\",//上传接口地址\r\n            headers: {\r\n              token: utils.getToken()\r\n            },\r\n            fieldName: 'file',//上传文件名\r\n            customInsert(res, insertFn) {\r\n              insertFn(res.data.url, res.data.alt, res.data.url)\r\n            },\r\n          }\r\n        }\r\n      },\r\n    };\r\n  },\r\n  //监听数值\r\n  watch: {\r\n    content(newValue) {\r\n      console.log(\"newValue:\")\r\n\r\n      console.log(newValue)\r\n      this.html = newValue;\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    onCreated(editor) {\r\n      this.editor = Object.seal(editor);\r\n    },\r\n    onChange(editor) {\r\n      console.log(\"onChange\", editor.getHtml())\r\n      this.$emit(\"content-change\", editor.getHtml())\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n  beforeDestroy() {\r\n    const editor = this.editor;\r\n    if (editor == null) return;\r\n    editor.destroy();\r\n  },\r\n};\r\n</script>\r\n<style src=\"@wangeditor/editor/dist/css/style.css\"></style>\r\n<style>\r\n.nav .title {\r\n  margin-top: 10px;\r\n  color: #000 !important;\r\n}\r\n</style>\r\n<!--<el-dialog title=\"信息\" :visible.sync=\"dialogFormVisible\" width=\"81%\"  :before-close=\"cancel\">-->\r\n<!--<CustomEditor :content=\"form.content\" @content-change=\"contentChange\"></CustomEditor>-->\r\n<!--cancel(){-->\r\n<!--this.dialogFormVisible = false-->\r\n<!--console.log(\"执行\")-->\r\n<!--location.reload();-->\r\n<!--},-->\r\n<!--contentChange(e) {-->\r\n<!--console.log(e)-->\r\n<!--this.form.content=e-->\r\n<!--},-->\r\n\r\n<!--保存需要添加          location.reload();-->\r\n"],"mappings":"AAqBA,SAAAA,MAAA,EAAAC,OAAA;AACA,OAAAC,KAAA;AAEA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,IAAA;EACAC,UAAA;IAAAT,MAAA;IAAAC;EAAA;EACAS,KAAA;IACA;MACAC,MAAA;MACAC,IAAA,OAAAR,OAAA;MACAS,aAAA;QACA;QACA;MAAA,CACA;MACAC,YAAA;QACAC,WAAA;QACA;QACAC,SAAA;UACAC,WAAA;YACAC,MAAA,OAAAC,eAAA;YAAA;YACAC,OAAA;cACAC,KAAA,EAAAnB,KAAA,CAAAoB,QAAA;YACA;YACAC,SAAA;YAAA;YACAC,aAAAC,GAAA,EAAAC,QAAA;cACAA,QAAA,CAAAD,GAAA,CAAAf,IAAA,CAAAiB,GAAA,EAAAF,GAAA,CAAAf,IAAA,CAAAkB,GAAA,EAAAH,GAAA,CAAAf,IAAA,CAAAiB,GAAA;YACA;UACA;UACAE,WAAA;YACA;YACAC,WAAA;YAAA;YACAZ,MAAA,OAAAC,eAAA;YAAA;YACA;YACAC,OAAA;cACAC,KAAA,EAAAnB,KAAA,CAAAoB,QAAA;YACA;YACAC,SAAA;YAAA;YACAC,aAAAC,GAAA,EAAAC,QAAA;cACAA,QAAA,CAAAD,GAAA,CAAAf,IAAA,CAAAiB,GAAA,EAAAF,GAAA,CAAAf,IAAA,CAAAkB,GAAA,EAAAH,GAAA,CAAAf,IAAA,CAAAiB,GAAA;YACA;UACA;QACA;MACA;IACA;EACA;EACA;EACAI,KAAA;IACA3B,QAAA4B,QAAA;MACAC,OAAA,CAAAC,GAAA;MAEAD,OAAA,CAAAC,GAAA,CAAAF,QAAA;MACA,KAAApB,IAAA,GAAAoB,QAAA;IACA;EACA;EACAG,QAAA,GACA;EACAC,OAAA;IACAC,UAAA1B,MAAA;MACA,KAAAA,MAAA,GAAA2B,MAAA,CAAAC,IAAA,CAAA5B,MAAA;IACA;IACA6B,SAAA7B,MAAA;MACAsB,OAAA,CAAAC,GAAA,aAAAvB,MAAA,CAAA8B,OAAA;MACA,KAAAC,KAAA,mBAAA/B,MAAA,CAAA8B,OAAA;IACA;EACA;EACAE,QAAA,GACA;EACAC,cAAA;IACA,MAAAjC,MAAA,QAAAA,MAAA;IACA,IAAAA,MAAA;IACAA,MAAA,CAAAkC,OAAA;EACA;AACA","ignoreList":[]}]}