{"remainingRequest":"D:\\自研\\对外\\outside-template\\templatev1\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\自研\\对外\\outside-template\\templatev1\\web\\src\\components\\CustomEditor.vue?vue&type=style&index=1&id=03d4c56e&lang=css","dependencies":[{"path":"D:\\自研\\对外\\outside-template\\templatev1\\web\\src\\components\\CustomEditor.vue","mtime":1734343187921},{"path":"D:\\自研\\对外\\outside-template\\templatev1\\web\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1667914615005},{"path":"D:\\自研\\对外\\outside-template\\templatev1\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1698654179323},{"path":"D:\\自研\\对外\\outside-template\\templatev1\\web\\node_modules\\postcss-loader\\src\\index.js","mtime":1667914616608},{"path":"D:\\自研\\对外\\outside-template\\templatev1\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667914578418},{"path":"D:\\自研\\对外\\outside-template\\templatev1\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1698654179323}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubmF2IC50aXRsZSB7DQogIG1hcmdpbi10b3A6IDEwcHg7DQogIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7DQp9DQo="},{"version":3,"sources":["CustomEditor.vue"],"names":[],"mappings":";AAuGA;AACA;AACA;AACA","file":"CustomEditor.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"nav\" style=\"border: 1px solid #ccc; margin-top: 10px;color: #000\">\r\n      <!-- 工具栏 -->\r\n      <Toolbar\r\n          style=\"border-bottom: 1px solid #ccc\"\r\n          :editor=\"editor\"\r\n          :defaultConfig=\"toolbarConfig\"\r\n      />\r\n      <!-- 编辑器 -->\r\n      <Editor\r\n          style=\"height: 400px; overflow-y: hidden\"\r\n          :defaultConfig=\"editorConfig\"\r\n          v-model=\"html\"\r\n          @onChange=\"onChange\"\r\n          @onCreated=\"onCreated\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {Editor, Toolbar} from \"@wangeditor/editor-for-vue\";\r\nimport utils from \"@/utils/utils\";\r\n\r\nexport default {\r\n  props: {\r\n    content: {\r\n      type: String,\r\n      default: \"\",\r\n    }\r\n  },\r\n  name: \"MyEditor\",\r\n  components: {Editor, Toolbar},\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      html: this.content,\r\n      toolbarConfig: {\r\n        // toolbarKeys: [ /* 显示哪些菜单，如何排序、分组 */ ],\r\n        // excludeKeys: [ /* 隐藏哪些菜单 */ ],\r\n      },\r\n      editorConfig: {\r\n        placeholder: \"请输入内容...\",\r\n        // autoFocus: false,\r\n        MENU_CONF: {\r\n          uploadImage: {\r\n            server: this.$httpUploadFile + \"\",//上传接口地址\r\n            headers: {\r\n              token: utils.getToken()\r\n            },\r\n            fieldName: 'file',//上传文件名\r\n            customInsert(res, insertFn) {\r\n              insertFn(res.data.url, res.data.alt, res.data.url)\r\n            },\r\n          },\r\n          uploadVideo: {\r\n            // 单个文件的最大体积限制，默认为 10M\r\n            maxFileSize: 100 * 1024 * 1024, // 10M\r\n            server: this.$httpUploadFile + \"\",//上传接口地址\r\n            // server: process.env.VUE_APP_SERVER+\"/wangeditorUploads\",//上传接口地址\r\n            headers: {\r\n              token: utils.getToken()\r\n            },\r\n            fieldName: 'file',//上传文件名\r\n            customInsert(res, insertFn) {\r\n              insertFn(res.data.url, res.data.alt, res.data.url)\r\n            },\r\n          }\r\n        }\r\n      },\r\n    };\r\n  },\r\n  //监听数值\r\n  watch: {\r\n    content(newValue) {\r\n      console.log(\"newValue:\")\r\n\r\n      console.log(newValue)\r\n      this.html = newValue;\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    onCreated(editor) {\r\n      this.editor = Object.seal(editor);\r\n    },\r\n    onChange(editor) {\r\n      console.log(\"onChange\", editor.getHtml())\r\n      this.$emit(\"content-change\", editor.getHtml())\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n  beforeDestroy() {\r\n    const editor = this.editor;\r\n    if (editor == null) return;\r\n    editor.destroy();\r\n  },\r\n};\r\n</script>\r\n<style src=\"@wangeditor/editor/dist/css/style.css\"></style>\r\n<style>\r\n.nav .title {\r\n  margin-top: 10px;\r\n  color: #000 !important;\r\n}\r\n</style>\r\n<!--<el-dialog title=\"信息\" :visible.sync=\"dialogFormVisible\" width=\"81%\"  :before-close=\"cancel\">-->\r\n<!--<CustomEditor :content=\"form.content\" @content-change=\"contentChange\"></CustomEditor>-->\r\n<!--cancel(){-->\r\n<!--this.dialogFormVisible = false-->\r\n<!--console.log(\"执行\")-->\r\n<!--location.reload();-->\r\n<!--},-->\r\n<!--contentChange(e) {-->\r\n<!--console.log(e)-->\r\n<!--this.form.content=e-->\r\n<!--},-->\r\n\r\n<!--保存需要添加          location.reload();-->\r\n"]}]}