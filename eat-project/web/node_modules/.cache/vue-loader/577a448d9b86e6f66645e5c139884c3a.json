{"remainingRequest":"E:\\eat-project\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\eat-project\\web\\src\\components\\CustomEditor.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\eat-project\\web\\src\\components\\CustomEditor.vue","mtime":1742348614000},{"path":"E:\\eat-project\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742348614000},{"path":"E:\\eat-project\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1742348614000},{"path":"E:\\eat-project\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742348614000},{"path":"E:\\eat-project\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1742348614000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge0VkaXRvciwgVG9vbGJhcn0gZnJvbSAiQHdhbmdlZGl0b3IvZWRpdG9yLWZvci12dWUiOw0KaW1wb3J0IHV0aWxzIGZyb20gIkAvdXRpbHMvdXRpbHMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgY29udGVudDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIiIsDQogICAgfQ0KICB9LA0KICBuYW1lOiAiTXlFZGl0b3IiLA0KICBjb21wb25lbnRzOiB7RWRpdG9yLCBUb29sYmFyfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZWRpdG9yOiBudWxsLA0KICAgICAgaHRtbDogdGhpcy5jb250ZW50LA0KICAgICAgdG9vbGJhckNvbmZpZzogew0KICAgICAgICAvLyB0b29sYmFyS2V5czogWyAvKiDmmL7npLrlk6rkupvoj5zljZXvvIzlpoLkvZXmjpLluo/jgIHliIbnu4QgKi8gXSwNCiAgICAgICAgLy8gZXhjbHVkZUtleXM6IFsgLyog6ZqQ6JeP5ZOq5Lqb6I+c5Y2VICovIF0sDQogICAgICB9LA0KICAgICAgZWRpdG9yQ29uZmlnOiB7DQogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5YaF5a65Li4uIiwNCiAgICAgICAgLy8gYXV0b0ZvY3VzOiBmYWxzZSwNCiAgICAgICAgTUVOVV9DT05GOiB7DQogICAgICAgICAgdXBsb2FkSW1hZ2U6IHsNCiAgICAgICAgICAgIHNlcnZlcjogdGhpcy4kaHR0cFVwbG9hZEZpbGUgKyAiIiwvL+S4iuS8oOaOpeWPo+WcsOWdgA0KICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICB0b2tlbjogdXRpbHMuZ2V0VG9rZW4oKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZpZWxkTmFtZTogJ2ZpbGUnLC8v5LiK5Lyg5paH5Lu25ZCNDQogICAgICAgICAgICBjdXN0b21JbnNlcnQocmVzLCBpbnNlcnRGbikgew0KICAgICAgICAgICAgICBpbnNlcnRGbihyZXMuZGF0YS51cmwsIHJlcy5kYXRhLmFsdCwgcmVzLmRhdGEudXJsKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHVwbG9hZFZpZGVvOiB7DQogICAgICAgICAgICAvLyDljZXkuKrmlofku7bnmoTmnIDlpKfkvZPnp6/pmZDliLbvvIzpu5jorqTkuLogMTBNDQogICAgICAgICAgICBtYXhGaWxlU2l6ZTogMTAwICogMTAyNCAqIDEwMjQsIC8vIDEwTQ0KICAgICAgICAgICAgc2VydmVyOiB0aGlzLiRodHRwVXBsb2FkRmlsZSArICIiLC8v5LiK5Lyg5o6l5Y+j5Zyw5Z2ADQogICAgICAgICAgICAvLyBzZXJ2ZXI6IHByb2Nlc3MuZW52LlZVRV9BUFBfU0VSVkVSKyIvd2FuZ2VkaXRvclVwbG9hZHMiLC8v5LiK5Lyg5o6l5Y+j5Zyw5Z2ADQogICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgIHRva2VuOiB1dGlscy5nZXRUb2tlbigpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZmllbGROYW1lOiAnZmlsZScsLy/kuIrkvKDmlofku7blkI0NCiAgICAgICAgICAgIGN1c3RvbUluc2VydChyZXMsIGluc2VydEZuKSB7DQogICAgICAgICAgICAgIGluc2VydEZuKHJlcy5kYXRhLnVybCwgcmVzLmRhdGEuYWx0LCByZXMuZGF0YS51cmwpDQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICB9Ow0KICB9LA0KICAvL+ebkeWQrOaVsOWAvA0KICB3YXRjaDogew0KICAgIGNvbnRlbnQobmV3VmFsdWUpIHsNCiAgICAgIGNvbnNvbGUubG9nKCJuZXdWYWx1ZToiKQ0KDQogICAgICBjb25zb2xlLmxvZyhuZXdWYWx1ZSkNCiAgICAgIHRoaXMuaHRtbCA9IG5ld1ZhbHVlOw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uQ3JlYXRlZChlZGl0b3IpIHsNCiAgICAgIHRoaXMuZWRpdG9yID0gT2JqZWN0LnNlYWwoZWRpdG9yKTsNCiAgICB9LA0KICAgIG9uQ2hhbmdlKGVkaXRvcikgew0KICAgICAgY29uc29sZS5sb2coIm9uQ2hhbmdlIiwgZWRpdG9yLmdldEh0bWwoKSkNCiAgICAgIHRoaXMuJGVtaXQoImNvbnRlbnQtY2hhbmdlIiwgZWRpdG9yLmdldEh0bWwoKSkNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuZWRpdG9yOw0KICAgIGlmIChlZGl0b3IgPT0gbnVsbCkgcmV0dXJuOw0KICAgIGVkaXRvci5kZXN0cm95KCk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["CustomEditor.vue"],"names":[],"mappings":";AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomEditor.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"nav\" style=\"border: 1px solid #ccc; margin-top: 10px;color: #000\">\r\n      <!-- 工具栏 -->\r\n      <Toolbar\r\n          style=\"border-bottom: 1px solid #ccc\"\r\n          :editor=\"editor\"\r\n          :defaultConfig=\"toolbarConfig\"\r\n      />\r\n      <!-- 编辑器 -->\r\n      <Editor\r\n          style=\"height: 400px; overflow-y: hidden\"\r\n          :defaultConfig=\"editorConfig\"\r\n          v-model=\"html\"\r\n          @onChange=\"onChange\"\r\n          @onCreated=\"onCreated\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {Editor, Toolbar} from \"@wangeditor/editor-for-vue\";\r\nimport utils from \"@/utils/utils\";\r\n\r\nexport default {\r\n  props: {\r\n    content: {\r\n      type: String,\r\n      default: \"\",\r\n    }\r\n  },\r\n  name: \"MyEditor\",\r\n  components: {Editor, Toolbar},\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      html: this.content,\r\n      toolbarConfig: {\r\n        // toolbarKeys: [ /* 显示哪些菜单，如何排序、分组 */ ],\r\n        // excludeKeys: [ /* 隐藏哪些菜单 */ ],\r\n      },\r\n      editorConfig: {\r\n        placeholder: \"请输入内容...\",\r\n        // autoFocus: false,\r\n        MENU_CONF: {\r\n          uploadImage: {\r\n            server: this.$httpUploadFile + \"\",//上传接口地址\r\n            headers: {\r\n              token: utils.getToken()\r\n            },\r\n            fieldName: 'file',//上传文件名\r\n            customInsert(res, insertFn) {\r\n              insertFn(res.data.url, res.data.alt, res.data.url)\r\n            },\r\n          },\r\n          uploadVideo: {\r\n            // 单个文件的最大体积限制，默认为 10M\r\n            maxFileSize: 100 * 1024 * 1024, // 10M\r\n            server: this.$httpUploadFile + \"\",//上传接口地址\r\n            // server: process.env.VUE_APP_SERVER+\"/wangeditorUploads\",//上传接口地址\r\n            headers: {\r\n              token: utils.getToken()\r\n            },\r\n            fieldName: 'file',//上传文件名\r\n            customInsert(res, insertFn) {\r\n              insertFn(res.data.url, res.data.alt, res.data.url)\r\n            },\r\n          }\r\n        }\r\n      },\r\n    };\r\n  },\r\n  //监听数值\r\n  watch: {\r\n    content(newValue) {\r\n      console.log(\"newValue:\")\r\n\r\n      console.log(newValue)\r\n      this.html = newValue;\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    onCreated(editor) {\r\n      this.editor = Object.seal(editor);\r\n    },\r\n    onChange(editor) {\r\n      console.log(\"onChange\", editor.getHtml())\r\n      this.$emit(\"content-change\", editor.getHtml())\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n  beforeDestroy() {\r\n    const editor = this.editor;\r\n    if (editor == null) return;\r\n    editor.destroy();\r\n  },\r\n};\r\n</script>\r\n<style src=\"@wangeditor/editor/dist/css/style.css\"></style>\r\n<style>\r\n.nav .title {\r\n  margin-top: 10px;\r\n  color: #000 !important;\r\n}\r\n</style>\r\n<!--<el-dialog title=\"信息\" :visible.sync=\"dialogFormVisible\" width=\"81%\"  :before-close=\"cancel\">-->\r\n<!--<CustomEditor :content=\"form.content\" @content-change=\"contentChange\"></CustomEditor>-->\r\n<!--cancel(){-->\r\n<!--this.dialogFormVisible = false-->\r\n<!--console.log(\"执行\")-->\r\n<!--location.reload();-->\r\n<!--},-->\r\n<!--contentChange(e) {-->\r\n<!--console.log(e)-->\r\n<!--this.form.content=e-->\r\n<!--},-->\r\n\r\n<!--保存需要添加          location.reload();-->\r\n"]}]}